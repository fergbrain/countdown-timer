function rtrim(a){return a.replace(/..$/,"")}function _n(b,a,c){if(c==1){return b}else{return a}}function fergcorp_countdownTimer_js(){for(var b=0;b<fergcorp_countdownTimer_js_events.length;b++){var a=new Date();var c=new Date(fergcorp_countdownTimer_js_events[b]["targetDate"]*1000);if((c-a)<0){document.getElementById(fergcorp_countdownTimer_js_events[b]["id"]).innerHTML=sprintf(fergcorp_countdownTimer_js_language.ago,fergcorp_countdownTimer_fuzzyDate(a,c,getOptions))}else{if((c-a)>=0){document.getElementById(fergcorp_countdownTimer_js_events[b]["id"]).innerHTML=sprintf(fergcorp_countdownTimer_js_language["in"],fergcorp_countdownTimer_fuzzyDate(c,a,getOptions))}}}window.setTimeout("fergcorp_countdownTimer_js()",1000)}function fergcorp_countdownTimer_fuzzyDate(y,a,k){var j=0;var m=false;var h=0;var q=a;var l=y;var o="";var f=q.getFullYear();var d=q.getMonth()+1;var v=q.getDate();var B=q.getHours();var u=q.getMinutes();var b=q.getSeconds();var c=l.getFullYear();var n=l.getMonth()+1;var t=l.getDate();var x=l.getHours();var g=l.getMinutes();var p=l.getSeconds();var i=c-f;var A=n-d;var w=t-v;var e=x-B;var r=g-u;var z=p-b;if(z<0){r--;z=60+z}if(r<0){e--;r=60+r}if(e<0){w--;e=24+e}if(w<0){A--;w=w+32-new Date(f,d-1,32).getDate()}if(A<0){i--;A=A+12}if(k.showYear){if(m||!k.stripZero||i){o=sprintf(_n(fergcorp_countdownTimer_js_language.year,fergcorp_countdownTimer_js_language.years,i),i)+" ";m=true}}else{j=i*31536000}if(k.showMonth){if(m||!k.stripZero||(A+parseInt(j/2628000))){A=A+parseInt(j/2628000);o=o+sprintf(_n(fergcorp_countdownTimer_js_language.month,fergcorp_countdownTimer_js_language.months,A),A)+" ";j=j-parseInt(j/2628000)*2628000;m=true}}else{h=parseInt(y.getTime()-a.getTime())/1000;if(k.showYear){h=h-i*31536000}resultantWeek=0;w=parseInt(h/86400);e=parseInt((h-w*86400)/3600);r=parseInt((h-w*86400-e*3600)/60);z=parseInt((h-w*86400-e*3600-r*60));j=0}if(k.showWeek){if(m||!k.stripZero||parseInt((w+parseInt(j/86400))/7)){w=w+parseInt(j/86400);o=o+sprintf(_n(fergcorp_countdownTimer_js_language.week,fergcorp_countdownTimer_js_language.weeks,(parseInt((w+parseInt(j/86400))/7))),(parseInt((w+parseInt(j/86400))/7)))+" ";j=j-parseInt(j/86400)*86400;w=w-parseInt((w+parseInt(j/86400))/7)*7;m=true}}if(k.showDay){if(m||!k.stripZero||(w+parseInt(j/86400))){w=w+parseInt(j/86400);o=o+sprintf(_n(fergcorp_countdownTimer_js_language.day,fergcorp_countdownTimer_js_language.days,w),w)+" ";j=j-parseInt(j/86400)*86400;m=true}}else{j=j+w*86400}if(k.showHour){if(m||!k.stripZero||(e+parseInt(j/3600))){e=e+parseInt(j/3600);o=o+sprintf(_n(fergcorp_countdownTimer_js_language.hour,fergcorp_countdownTimer_js_language.hours,e),e)+" ";j=j-parseInt(j/3600)*3600;m=true}}else{j=j+e*3600}if(k.showMinute){if(m||!k.stripZero||(r+parseInt(j/60))){r=r+parseInt(j/60);o=o+sprintf(_n(fergcorp_countdownTimer_js_language.minute,fergcorp_countdownTimer_js_language.minutes,r),r)+" ";j=j-parseInt(j/60)*60;m=true}}else{j=j+r*60}if(k.showSecond){o=o+sprintf(_n(fergcorp_countdownTimer_js_language.second,fergcorp_countdownTimer_js_language.seconds,z),z)+" "}if(o==""){if(k.showSecond){o=sprintf(fergcorp_countdownTimer_js_language.seconds,0)}else{if(k.showMinute){o=sprintf(fergcorp_countdownTimer_js_language.minutes,0)}else{if(k.showHour){o=sprintf(fergcorp_countdownTimer_js_language.hours,0)}else{if(k.showDay){o=sprintf(fergcorp_countdownTimer_js_language.days,0)}else{if(k.showWeek){o=sprintf(fergcorp_countdownTimer_js_language.weeks,0)}else{if(k.showMonth){o=sprintf(fergcorp_countdownTimer_js_language.months,0)}else{o=sprintf(fergcorp_countdownTimer_js_language.years,0)}}}}}}}return o.replace(/(,? *)$/,"")};